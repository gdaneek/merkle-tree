\hypertarget{classmerkle_1_1TreeBase}{}\doxysection{merkle\+::Tree\+Base$<$ Derived, Hasher, Concatenator $>$ Class Template Reference}
\label{classmerkle_1_1TreeBase}\index{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}}


a base template class for building Merkle trees based on CRTP  




{\ttfamily \#include $<$merkle.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename... Args$>$ }\\constexpr auto \mbox{\hyperlink{classmerkle_1_1TreeBase_a891a04ca785eff3c2d6777f19a60153f}{leaf\+\_\+hash}} (Args \&\&... args) const
\begin{DoxyCompactList}\small\item\em calculates the hash of a tree leaf \end{DoxyCompactList}\item 
{\footnotesize template$<$typename... Args$>$ }\\constexpr auto \mbox{\hyperlink{classmerkle_1_1TreeBase_a79a5618dbcc7c3615f1520ed7c286bd1}{node\+\_\+hash}} (Args \&\&... args) const
\begin{DoxyCompactList}\small\item\em calculates the hash of a tree node \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classmerkle_1_1TreeBase_a5fd5b81ce6e3bfcd7e62670d7b505db0}{height}} () const
\begin{DoxyCompactList}\small\item\em function that calculates the height of a current Merkle tree \end{DoxyCompactList}\item 
constexpr size\+\_\+t \mbox{\hyperlink{classmerkle_1_1TreeBase_a255daa53eab8a5052cbdcd67080dceeb}{size}} () const
\begin{DoxyCompactList}\small\item\em function that calculates the number of elements (hashes) for a current Merkle tree \end{DoxyCompactList}\item 
{\footnotesize template$<$typename... Args$>$ }\\constexpr auto \mbox{\hyperlink{classmerkle_1_1TreeBase_a4c323c59ad2667c59976437edceec00c}{verify}} (Args \&\&... data) const
\begin{DoxyCompactList}\small\item\em checks whether the data block was used when creating the Merkle tree \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classmerkle_1_1TreeBase_a881ef8becc570a287e580a7ec1de11a7}\label{classmerkle_1_1TreeBase_a881ef8becc570a287e580a7ec1de11a7}} 
{\footnotesize template$<$typename... Args$>$ }\\constexpr auto \mbox{\hyperlink{classmerkle_1_1TreeBase_a881ef8becc570a287e580a7ec1de11a7}{has}} (Args \&\&... data) const
\begin{DoxyCompactList}\small\item\em an alias for verify \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static constexpr size\+\_\+t \mbox{\hyperlink{classmerkle_1_1TreeBase_a9b9086518ed3e935896eb15871814a78}{height}} (const size\+\_\+t leafs\+\_\+n)
\begin{DoxyCompactList}\small\item\em a function that allows you to find out the height of any Merkle tree by the number of leaves \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classmerkle_1_1TreeBase_a4d0ed75a49bbab9b6f535812ec772e89}\label{classmerkle_1_1TreeBase_a4d0ed75a49bbab9b6f535812ec772e89}} 
static constexpr size\+\_\+t {\bfseries size} (const size\+\_\+t leafs\+\_\+n)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
constexpr \mbox{\hyperlink{classmerkle_1_1TreeBase_a1a7d2948719d260fdf2098c704268269}{Tree\+Base}} (Hasher h, Concatenator c)
\begin{DoxyCompactList}\small\item\em default constructor \end{DoxyCompactList}\item 
{\footnotesize template$<$typename... Args$>$ }\\constexpr auto \mbox{\hyperlink{classmerkle_1_1TreeBase_a18e9d4574af2577a7e8b045af4c13477}{find\+\_\+leaf}} (Args \&\&... data) const
\begin{DoxyCompactList}\small\item\em a function that finds a leaf of the Merkle tree in the hash container corresponding to the input data \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classmerkle_1_1TreeBase_ab03c18de988d1193c6f7057fb0a48b21}\label{classmerkle_1_1TreeBase_ab03c18de988d1193c6f7057fb0a48b21}} 
{\footnotesize template$<$typename... Args$>$ }\\constexpr auto {\bfseries hash} (Args \&\&... args) const
\item 
\mbox{\Hypertarget{classmerkle_1_1TreeBase_a16b8fee5fa73c63fed23470389f56fb7}\label{classmerkle_1_1TreeBase_a16b8fee5fa73c63fed23470389f56fb7}} 
{\footnotesize template$<$typename... Args$>$ }\\constexpr auto {\bfseries concat} (Args \&\&... args) const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename Derived, typename Hasher, typename Concatenator = bconcat\+::\+Unified\+Concatenator$>$\newline
class merkle\+::\+Tree\+Base$<$ Derived, Hasher, Concatenator $>$}

a base template class for building Merkle trees based on CRTP 

Class defines the required interface using concepts and provides auxiliary methods for calculating the size, height, leaf search, etc..., through inheritance. All trees inheriting this automatically have some principles for ensuring security, such as double hashing with salt (protection against Second Preimage / Length Extension Attacks if the hash function is based on Merkleâ€“\+Damgard) and two generalized algorithms for building a tree (todo status). 
\begin{DoxyTemplParams}{Template Parameters}
{\em Derived} & concrete implementation of the Merkle tree \\
\hline
{\em Hash\+Func} & type of hash function \\
\hline
\end{DoxyTemplParams}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classmerkle_1_1TreeBase_a1a7d2948719d260fdf2098c704268269}\label{classmerkle_1_1TreeBase_a1a7d2948719d260fdf2098c704268269}} 
\index{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}!TreeBase@{TreeBase}}
\index{TreeBase@{TreeBase}!merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}}
\doxysubsubsection{\texorpdfstring{TreeBase()}{TreeBase()}}
{\footnotesize\ttfamily template$<$typename Derived , typename Hasher , typename Concatenator  = bconcat\+::\+Unified\+Concatenator$>$ \\
constexpr \mbox{\hyperlink{classmerkle_1_1TreeBase}{merkle\+::\+Tree\+Base}}$<$ Derived, Hasher, Concatenator $>$\+::\mbox{\hyperlink{classmerkle_1_1TreeBase}{Tree\+Base}} (\begin{DoxyParamCaption}\item[{Hasher}]{h,  }\item[{Concatenator}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}, {\ttfamily [constexpr]}, {\ttfamily [protected]}}



default constructor 


\begin{DoxyParams}{Parameters}
{\em h} & link to the hash function that will be used to build the tree \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classmerkle_1_1TreeBase_a18e9d4574af2577a7e8b045af4c13477}\label{classmerkle_1_1TreeBase_a18e9d4574af2577a7e8b045af4c13477}} 
\index{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}!find\_leaf@{find\_leaf}}
\index{find\_leaf@{find\_leaf}!merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}}
\doxysubsubsection{\texorpdfstring{find\_leaf()}{find\_leaf()}}
{\footnotesize\ttfamily template$<$typename Derived , typename Hasher , typename Concatenator  = bconcat\+::\+Unified\+Concatenator$>$ \\
template$<$typename... Args$>$ \\
constexpr auto \mbox{\hyperlink{classmerkle_1_1TreeBase}{merkle\+::\+Tree\+Base}}$<$ Derived, Hasher, Concatenator $>$\+::find\+\_\+leaf (\begin{DoxyParamCaption}\item[{Args \&\&...}]{data }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [constexpr]}, {\ttfamily [protected]}}



a function that finds a leaf of the Merkle tree in the hash container corresponding to the input data 


\begin{DoxyParams}{Parameters}
{\em data} & any data that can be hashed \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
position where the leaf hash corresponding to the {\ttfamily data} arg is located 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
if the transmitted data was not used when creating tree, it returns -\/1 

O(\+N) complexity where N is equal to the number of leaves in the tree 
\end{DoxyNote}
\mbox{\Hypertarget{classmerkle_1_1TreeBase_a5fd5b81ce6e3bfcd7e62670d7b505db0}\label{classmerkle_1_1TreeBase_a5fd5b81ce6e3bfcd7e62670d7b505db0}} 
\index{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}!height@{height}}
\index{height@{height}!merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}}
\doxysubsubsection{\texorpdfstring{height()}{height()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename Derived , typename Hasher , typename Concatenator  = bconcat\+::\+Unified\+Concatenator$>$ \\
size\+\_\+t \mbox{\hyperlink{classmerkle_1_1TreeBase}{merkle\+::\+Tree\+Base}}$<$ Derived, Hasher, Concatenator $>$\+::height (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



function that calculates the height of a current Merkle tree 

\begin{DoxyReturn}{Returns}
tree height 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
If the tree has zero or one (only root) nodes, then the height is zero 
\end{DoxyWarning}
\mbox{\Hypertarget{classmerkle_1_1TreeBase_a9b9086518ed3e935896eb15871814a78}\label{classmerkle_1_1TreeBase_a9b9086518ed3e935896eb15871814a78}} 
\index{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}!height@{height}}
\index{height@{height}!merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}}
\doxysubsubsection{\texorpdfstring{height()}{height()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename Derived , typename Hasher , typename Concatenator  = bconcat\+::\+Unified\+Concatenator$>$ \\
static constexpr size\+\_\+t \mbox{\hyperlink{classmerkle_1_1TreeBase}{merkle\+::\+Tree\+Base}}$<$ Derived, Hasher, Concatenator $>$\+::height (\begin{DoxyParamCaption}\item[{const size\+\_\+t}]{leafs\+\_\+n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [constexpr]}}



a function that allows you to find out the height of any Merkle tree by the number of leaves 


\begin{DoxyParams}{Parameters}
{\em leafs\+\_\+n} & number of leaves in Merkle tree \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tree height 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
If the tree has zero or one (only root) nodes, then the height is zero 
\end{DoxyWarning}
\mbox{\Hypertarget{classmerkle_1_1TreeBase_a891a04ca785eff3c2d6777f19a60153f}\label{classmerkle_1_1TreeBase_a891a04ca785eff3c2d6777f19a60153f}} 
\index{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}!leaf\_hash@{leaf\_hash}}
\index{leaf\_hash@{leaf\_hash}!merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}}
\doxysubsubsection{\texorpdfstring{leaf\_hash()}{leaf\_hash()}}
{\footnotesize\ttfamily template$<$typename Derived , typename Hasher , typename Concatenator  = bconcat\+::\+Unified\+Concatenator$>$ \\
template$<$typename... Args$>$ \\
constexpr auto \mbox{\hyperlink{classmerkle_1_1TreeBase}{merkle\+::\+Tree\+Base}}$<$ Derived, Hasher, Concatenator $>$\+::leaf\+\_\+hash (\begin{DoxyParamCaption}\item[{Args \&\&...}]{args }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [constexpr]}}



calculates the hash of a tree leaf 

uses double leaf hashing to protect against Length Extension Attack 
\begin{DoxyParams}{Parameters}
{\em args} & parameters for calling the hash function (see hash method overloads) \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classmerkle_1_1TreeBase_a79a5618dbcc7c3615f1520ed7c286bd1}\label{classmerkle_1_1TreeBase_a79a5618dbcc7c3615f1520ed7c286bd1}} 
\index{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}!node\_hash@{node\_hash}}
\index{node\_hash@{node\_hash}!merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}}
\doxysubsubsection{\texorpdfstring{node\_hash()}{node\_hash()}}
{\footnotesize\ttfamily template$<$typename Derived , typename Hasher , typename Concatenator  = bconcat\+::\+Unified\+Concatenator$>$ \\
template$<$typename... Args$>$ \\
constexpr auto \mbox{\hyperlink{classmerkle_1_1TreeBase}{merkle\+::\+Tree\+Base}}$<$ Derived, Hasher, Concatenator $>$\+::node\+\_\+hash (\begin{DoxyParamCaption}\item[{Args \&\&...}]{args }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [constexpr]}}



calculates the hash of a tree node 


\begin{DoxyParams}{Parameters}
{\em args} & parameters for calling the hash function (see hash method overloads) \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classmerkle_1_1TreeBase_a255daa53eab8a5052cbdcd67080dceeb}\label{classmerkle_1_1TreeBase_a255daa53eab8a5052cbdcd67080dceeb}} 
\index{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}!size@{size}}
\index{size@{size}!merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily template$<$typename Derived , typename Hasher , typename Concatenator  = bconcat\+::\+Unified\+Concatenator$>$ \\
constexpr size\+\_\+t \mbox{\hyperlink{classmerkle_1_1TreeBase}{merkle\+::\+Tree\+Base}}$<$ Derived, Hasher, Concatenator $>$\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [constexpr]}}



function that calculates the number of elements (hashes) for a current Merkle tree 

\begin{DoxyReturn}{Returns}
number of hashes in tree 
\end{DoxyReturn}
\mbox{\Hypertarget{classmerkle_1_1TreeBase_a4c323c59ad2667c59976437edceec00c}\label{classmerkle_1_1TreeBase_a4c323c59ad2667c59976437edceec00c}} 
\index{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}!verify@{verify}}
\index{verify@{verify}!merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$@{merkle::TreeBase$<$ Derived, Hasher, Concatenator $>$}}
\doxysubsubsection{\texorpdfstring{verify()}{verify()}}
{\footnotesize\ttfamily template$<$typename Derived , typename Hasher , typename Concatenator  = bconcat\+::\+Unified\+Concatenator$>$ \\
template$<$typename... Args$>$ \\
constexpr auto \mbox{\hyperlink{classmerkle_1_1TreeBase}{merkle\+::\+Tree\+Base}}$<$ Derived, Hasher, Concatenator $>$\+::verify (\begin{DoxyParamCaption}\item[{Args \&\&...}]{data }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [constexpr]}}



checks whether the data block was used when creating the Merkle tree 

If the method returns some index that is not equal to the maximum allowed size\+\_\+t value, therefore, the input data has a corresponding leaf in the tree 
\begin{DoxyParams}{Parameters}
{\em data} & any data that can be hashed \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{merkle_8hpp}{merkle.\+hpp}}\end{DoxyCompactItemize}
